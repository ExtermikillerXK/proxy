(function(a,e,o,c){"use strict";const t=e.findByProps("sendBotMessage"),r=e.findByStoreName("GuildStore"),l=e.findByStoreName("GuildChannelStore"),s=e.findByStoreName("ReadStateStore"),h=c.registerCommand({name:"markallasread",displayName:"markallasread",description:"read all server notifications",displayDescription:"read all server notifications",applicationId:-1,inputType:1,type:1,execute:function(f,i){try{const d=[];Object.values(r.getGuilds()).forEach(function(p){l.getChannels(p.id).SELECTABLE.forEach(function(n){s.hasUnread(n.channel.id)&&d.push({channelId:n.channel.id,messageId:s.lastMessageId(n.channel.id),readStateType:0})})}),o.FluxDispatcher.dispatch({type:"BULK_ACK",context:"APP",channels:d}),t.sendBotMessage(i.channel.id,"Done!")}catch{t.sendBotMessage(i.channel.id,"Failed to read all server notifications")}}}),u=function(){return h()};return a.onUnload=u,a})({},vendetta.metro,vendetta.metro.common,vendetta.commands);
