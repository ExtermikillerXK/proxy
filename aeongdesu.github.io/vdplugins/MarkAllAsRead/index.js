(function(s,t,d,N,c,l){"use strict";var o;(function(e){e[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER"})(o||(o={}));var r;(function(e){e[e.SUB_COMMAND=1]="SUB_COMMAND",e[e.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",e[e.STRING=3]="STRING",e[e.INTEGER=4]="INTEGER",e[e.BOOLEAN=5]="BOOLEAN",e[e.USER=6]="USER",e[e.CHANNEL=7]="CHANNEL",e[e.ROLE=8]="ROLE",e[e.MENTIONABLE=9]="MENTIONABLE",e[e.NUMBER=10]="NUMBER",e[e.ATTACHMENT=11]="ATTACHMENT"})(r||(r={}));var i;(function(e){e[e.CHAT=1]="CHAT",e[e.USER=2]="USER",e[e.MESSAGE=3]="MESSAGE"})(i||(i={}));const I=t.findByProps("sendBotMessage"),T=t.findByStoreName("ReadStateStore"),{bulkAck:A}=t.findByProps("bulkAck"),B=d.registerCommand({name:"markallasread",displayName:"markallasread",description:"read all server notifications",displayDescription:"read all server notifications",options:[],applicationId:"",inputType:o.BUILT_IN_TEXT,type:i.CHAT,execute:async function(e,u){try{let n=[];const U=T.getAllReadStates().filter(function(a){return T.hasUnread(a.channelId)}).map(function(a){return{channelId:a.channelId,messageId:a._lastMessageId}});return n.push(...U),A(n),c.showToast("Read all server notifications!",l.getAssetIDByName("check"))}catch(n){return N.logger.error(n),I.sendBotMessage(u.channel.id,"Failed to read all server notifications")}}}),p=function(){return B()};return s.onUnload=p,s})({},vendetta.metro,vendetta.commands,vendetta,vendetta.ui.toasts,vendetta.ui.assets);
