(function(t,d,f,g,h,e,r,i,o){"use strict";const{ScrollView:m}=i.General,{FormSection:D,FormRow:n}=i.Forms;function v(){return e.React.createElement(m,null,e.React.createElement(D,null,e.React.createElement(n,{label:"Discord Server",leading:e.React.createElement(n.Icon,{source:r.getAssetIDByName("Discord")}),trailing:n.Arrow,onPress:function(){return e.url.openDeeplink("https://discord.gg/TeRQEPb")}}),e.React.createElement(n,{label:"Reload DB",leading:e.React.createElement(n.Icon,{source:r.getAssetIDByName("ic_message_retry")}),onPress:async function(){return await c()?o.showToast("Reloaded DB",r.getAssetIDByName("check")):o.showToast("Failed to reload DB",r.getAssetIDByName("small"))}})))}const R=f.findByProps("default","getUserBannerURL");let a;const c=async function(){try{return a=await(await h.safeFetch("https://raw.githubusercontent.com/Discord-Custom-Covers/usrbg/master/dist/usrbg.json",{cache:"no-store"})).json(),a}catch(s){d.logger.error("Failed to fetch userBG data",s)}};async function y(){if(await c(),!a)return function(){};const s=g.after("getUserBannerURL",R,function(w){let[u]=w;const l=a?.find(function(b){return b.uid===u?.id});if(u?.banner===void 0&&l)return l.img});return function(){return s()}}const B=v;return t.default=y,t.fetchData=c,t.settings=B,Object.defineProperty(t,"__esModule",{value:!0}),t})({},vendetta,vendetta.metro,vendetta.patcher,vendetta.utils,vendetta.metro.common,vendetta.ui.assets,vendetta.ui.components,vendetta.ui.toasts);
