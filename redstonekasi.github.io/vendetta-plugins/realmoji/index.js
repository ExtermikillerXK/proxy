(function(m,u,l){"use strict";const a=[],p=u.findByName("RowManager"),s=/https:\/\/cdn.discordapp.com\/emojis\/(\d+)\.\w+/;a.push(l.before("generate",p.prototype,([r])=>{if(r.rowType!==1)return;let e=r.message.content;if(!e?.length)return;const n=e.match(s)?.index;if(n===void 0)return;const i=e.slice(n).trim().split(`
`);if(!i.every(o=>o.match(s)))return;for(e=e.slice(0,n);e.indexOf("  ")!==-1;)e=e.replace("  ",` ${i.shift()} `);e=e.trim(),i.length&&(e+=` ${i.join(" ")}`);const t=r.message.embeds;for(let o=0;o<t.length;o++){const c=t[o];c.type==="image"&&c.url.match(s)&&t.splice(o--,1)}r.message.content=e,r.__realmoji=!0})),a.push(l.after("generate",p.prototype,([r],e)=>{if(r.rowType!==1||r.__realmoji!==!0)return;const{content:n}=e.message;if(!Array.isArray(n))return;const i=n.every(t=>t.type==="link"&&t.target.match(s)||t.type==="text"&&t.content===" ");for(let t=0;t<n.length;t++){const o=n[t];if(o.type!=="link")continue;const c=o.target.match(s);if(!c)continue;const f=`${c[0]}?size=128`;n[t]={type:"customEmoji",id:c[1],alt:"<realmoji>",src:f.replace("gif","webp"),frozenSrc:f,jumboable:i}}}));const g=()=>a.forEach(r=>r());return m.onUnload=g,m})({},vendetta.metro,vendetta.patcher);
