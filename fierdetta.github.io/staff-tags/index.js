(function(R,s,M,t,A){"use strict";const o={OWNER:"OWNER",ADMINISTRATOR:"ADMIN",MANAGER:"MANAGER",MODERATOR:"MOD"},a={OWNER:t.ReactNative.processColor(t.chroma(A.rawColors.ORANGE_345).hex()),ADMINISTRATOR:t.ReactNative.processColor(t.chroma(A.rawColors.RED_500).hex()),MANAGER:t.ReactNative.processColor(t.chroma(A.rawColors.GREEN_345).hex()),MODERATOR:t.ReactNative.processColor(t.chroma(A.rawColors.BLUE_345).hex())},d=s.findByName("RowManager"),c=s.findByStoreName("GuildStore"),O=s.findByStoreName("GuildMemberStore"),T=s.findByStoreName("ChannelStore"),{Permissions:r}=t.constants;let l;var u={onLoad:function(){l=M.after("generate",d.prototype,function(g,S){let[f]=g,{message:e}=S;if(f.rowType!==1)return;const{guildId:E,channelId:G,authorId:N}=e;if(!e.tagText)if(E){const n=c.getGuild(E);if(n.ownerId===N){e.tagText=o.OWNER,e.tagBackgroundColor=a.OWNER;return}const C=O.getMember(E,N);for(const I of C?.roles??[]){const i=n.roles[I];if(i.permissions&r.ADMINISTRATOR){e.tagText=o.ADMINISTRATOR,e.tagBackgroundColor=a.ADMINISTRATOR;return}else if(i.permissions&(0n|r.MANAGE_GUILD|r.MANAGE_CHANNELS|r.MANAGE_ROLES|r.MANAGE_WEBHOOKS)){e.tagText=o.MANAGER,e.tagBackgroundColor=a.MANAGER;return}else if(i.permissions&(0n|r.MANAGE_MESSAGES|r.KICK_MEMBERS|r.BAN_MEMBERS)){e.tagText=o.MODERATOR,e.tagBackgroundColor=a.MODERATOR;return}}}else{const n=T.getChannel(G);if(n.type===3&&n.ownerId===N){e.tagText=o.OWNER,e.tagBackgroundColor=a.OWNER;return}}})},onUnload:function(){return l()}};return R.default=u,Object.defineProperty(R,"__esModule",{value:!0}),R})({},vendetta.metro,vendetta.patcher,vendetta.metro.common,vendetta.ui);
