(function(s,p,r){"use strict";const{DCDChatManager:u}=r.ReactNative.NativeModules,f=p.before("updateRows",u,function(c){const a=JSON.parse(c[1]);for(const e of a){if(e.type!==1||!e?.message?.embeds||!e?.message?.content)continue;let i=0;const n=[];for(const t of e.message.embeds)(t.type=="image"||t.type=="gifv")&&(i++,n.push(t.url));const o=[];for(let t=0;t<n.length;t++){const g=n[t];o.push({type:"link",content:[{type:"text",content:g}],target:g}),t<n.length-1&&o.push({type:"text",content:`
`})}e.message.content.length==0&&i>0&&e.message.content.push(...o)}c[1]=JSON.stringify(a)}),m=function(){f()};return s.onUnload=m,s})({},vendetta.patcher,vendetta.metro.common);
