(function(t,u,c,d){"use strict";const{DCDChatManager:g}=c.ReactNative.NativeModules,o=d.findByStoreName("UserStore"),f=u.before("updateRows",g,function(i){const m=JSON.parse(i[1]);for(const e of m){if(e.type!==1||!e?.message?.username||!e?.message?.authorId)continue;const n=e.message,s=o.getUser(n.authorId);if(!(!s||s.discriminator=="0000")&&(n.username!=s.username?n.username+=" ("+s.tag+")":n.username+="#"+s.discriminator,n.referencedMessage?.message?.username)){const r=e.message.referencedMessage.message,a=o.getUser(r.authorId),v=r.username.replace("@","");if(!a||a.discriminator=="0000")return;v!=a.username?r.username+=" ("+a.tag+")":r.username+="#"+a.discriminator}}i[1]=JSON.stringify(m)}),h=function(){f()};return t.onUnload=h,t})({},vendetta.patcher,vendetta.metro.common,vendetta.metro);
