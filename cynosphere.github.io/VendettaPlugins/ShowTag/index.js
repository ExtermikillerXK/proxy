(function(s,i,t){"use strict";const u=t.findByName("RowManager"),o=t.findByStoreName("UserStore");let m;const c=function(){m=i.after("generate",u.prototype,function(f,g){let[l]=f,{message:r}=g;if(l.rowType!==1)return;const e=o.getUser(r.authorId);if(e&&!(e.bot&&e.discriminator=="0000")&&(e.discriminator=="0"?r.username!=e.username&&(r.username+=" (@"+e.username+")"):r.username!=e.username?r.username+=" ("+e.tag+")":r.username+="#"+e.discriminator,r.referencedMessage?.message?.username)){const a=r.referencedMessage.message,n=o.getUser(a.authorId),U=a.username.replace("@","");if(!n||n.bot&&n.discriminator=="0000")return;n.discriminator=="0"?a.username!=n.username&&(a.username+=" (@"+n.username+")"):U!=n.username?a.username+=" ("+n.tag+")":a.username+="#"+n.discriminator}})},d=function(){m?.()};return s.onLoad=c,s.onUnload=d,s})({},vendetta.patcher,vendetta.metro);
