(function(f,R,g,I,o,a,w,G,U,p){"use strict";const d="",k={DETAILED:"detailed"},b={SEMICOL:", ",NEW_LINE:`
`},i={ENABLED:"\u{1F7E2}",DISABLED:"\u{1F534}",SELECTED:"\u{1F536}",NOT_SELECTED:"\u{1F537}"},V="Nothing to see here, huh...",N={NAME:"detailed",DESCRIPTION:"Whether to send a list with detailed information."},L={NAME:"plugin-list",DISPLAY_NAME:"plugin list",DESCRIPTION:"Send your plugin list to the current channel"},S={NAME:"theme-list",DISPLAY_NAME:"theme list",DESCRIPTION:"Send your theme list to the current channel"},M="https://vd-plugins.github.io/proxy/actuallythesun.github.io/vendetta-plugins/SplitLargeMessages/",T={SLM_NOT_INSTALLED:`Your list is too long to send it! Please install the Split Large Messages plugin: ${M}`,SLM_NOT_ENABLED:"Your list is too long to send it! You have the Split Large Messages plugin installed, but it is disabled! Please enabled it."},r={CONTENT:"Your list is over than 2000 characters. Are you sure?",CONFIRM:"Yes",CANCEL:"No"},W=g.findByProps("sendMessage","receiveMessage"),A=g.findByProps("sendBotMessage"),$=g.findByStoreName("UserStore").getCurrentUser()?.premiumType===2?4e3:2e3,B=function(e){return Object.keys(e).includes(M)},F=function(e){return Object.values(e).find(function(n){return n.id==M}).enabled},j=function(e){return e.find(function(n){return n.name===k.DETAILED})?.value??!1},h=function(e){return e.map(function(n){return n.name}).join(b.SEMICOL)},Y=function(e){return e.join(b.NEW_LINE).trimEnd()},D=function(e){return Y(e).length},m=async function(e,n){return await W.sendMessage(e,{content:Y(n)})};async function H(e,n){const O=j(e),y=a.storage.themeListAlwaysDetailed??!1,s=n.channel.id,t=[`**My Theme List | ${Object.keys(I.themes).length} Themes**`,d];if(Object.values(I.themes).length)for(const C of Object.values(I.themes)){const{selected:u,data:_,id:P}=C,{name:c,description:v,authors:E}=_;O||y?t.push(`> **Name**: ${c}`,`> **Selected**: ${u?i.SELECTED:i.NOT_SELECTED}`,`> **Description**: ${v}`,`> **Authors**: ${h(E)}`,`> **Install**: ${P}`,d):t.push(`> ${u?i.SELECTED:i.NOT_SELECTED} **${c}** by ${h(E)}`)}else t.push(V);const l=D(t)>$;if(l&&!B(o.plugins))A.sendBotMessage(s,T.SLM_NOT_INSTALLED);else if(l&&!F(o.plugins))A.sendBotMessage(s,T.SLM_NOT_ENABLED);else{if(D(t)>2e3)return w.alerts.showConfirmationAlert({content:r.CONTENT,confirmText:r.CONFIRM,cancelText:r.CANCEL,onConfirm:async function(){return await m(s,t)}});await m(s,t)}}async function q(e,n){const O=j(e),y=a.storage.pluginListAlwaysDetailed??!1,s=n.channel.id,t=[`**My Plugin List | ${Object.keys(o.plugins).length} Plugins**`,d];for(const C of Object.values(o.plugins)){const{enabled:u,manifest:_,id:P}=C,{name:c,description:v,authors:E}=_;O||y?t.push(`> **Name**: ${c}`,`> **Status**: ${u?i.ENABLED:i.DISABLED}`,`> **Description**: ${v}`,`> **Authors**: ${h(E)}`,`> **Install**: ${P}`,d):t.push(`> ${u?i.ENABLED:i.DISABLED} **${c}** by ${h(E)}`)}const l=D(t)>$;if(l&&!B(o.plugins))A.sendBotMessage(s,T.SLM_NOT_INSTALLED);else if(l&&!F(o.plugins))A.sendBotMessage(s,T.SLM_NOT_ENABLED);else{if(D(t)>2e3)return w.alerts.showConfirmationAlert({content:r.CONTENT,confirmText:r.CONFIRM,cancelText:r.CANCEL,onConfirm:async function(){return await m(s,t)}});await m(s,t)}}function J(){const e={options:[{name:N.NAME,displayName:N.NAME,description:N.DESCRIPTION,displayDescription:N.DESCRIPTION,type:5,required:!1}],inputType:1,type:1,applicationId:"-1"};return[R.registerCommand({name:L.NAME,displayName:L.DISPLAY_NAME,description:L.DESCRIPTION,displayDescription:L.DESCRIPTION,execute:q,...e}),R.registerCommand({name:S.NAME,displayName:S.DISPLAY_NAME,description:S.DESCRIPTION,displayDescription:S.DESCRIPTION,execute:H,...e})]}function z(e){for(const n of e)n()}function K(){return U.useProxy(a.storage),React.createElement(p.ErrorBoundary,null,React.createElement(G.ReactNative.ScrollView,null,React.createElement(p.Forms.FormSwitchRow,{label:"Plugin List: Always send detailed list",onValueChange:function(e){return a.storage.pluginListAlwaysDetailed=e},value:a.storage.pluginListAlwaysDetailed}),React.createElement(p.Forms.FormSwitchRow,{label:"Theme List: Always send detailed list",onValueChange:function(e){return a.storage.themeListAlwaysDetailed=e},value:a.storage.themeListAlwaysDetailed})))}let x;var Q={onLoad:function(){x=J()},onUnload:function(){z(x)},settings:K};return f.default=Q,Object.defineProperty(f,"__esModule",{value:!0}),f})({},vendetta.commands,vendetta.metro,vendetta.themes,vendetta.plugins,vendetta.plugin,vendetta.ui,vendetta.metro.common,vendetta.storage,vendetta.ui.components);
